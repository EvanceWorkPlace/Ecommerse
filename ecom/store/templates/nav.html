<!-- Include Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<nav class="navbar navbar-expand-lg navbar-dark bg-black shadow-sm sticky-top" style="background: linear-gradient(90deg, #1a1a1a, #000);">
  <div class="container px-4 px-lg-5">

    <!-- Brand -->
    <a class="navbar-brand fw-bold fs-4 text-white" href="{% url 'home' %}" style="font-family: 'Montserrat', 'Segoe UI'; letter-spacing: 1px;">
      <i class="bi bi-heart-fill text-rose me-2"></i>MedClinic
    </a>

    <!-- Toggler for Mobile -->
    <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="bi bi-list text-white fs-2"></i>
    </button>

    <!-- Nav Links -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">

        <li class="nav-item">
          <a class="nav-link active" href="{% url 'home' %}"><i class="bi bi-house-door-fill me-1"></i>Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'about' %}"><i class="bi bi-info-circle-fill me-1">Service</i></a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="{% url 'search' %}"><i class="bi bi-search me-1"></i>Search</a>
        </li>
        

        {% if user.is_authenticated %}
        <!-- Profile -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle me-1"></i> Profile
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'update_user' %}">User Profile</a></li>
            <li><a class="dropdown-item" href="{% url 'update_info' %}">User Info</a></li>
          </ul>
        </li>

        {% if user.is_superuser %}
        <!-- Orders -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-box-seam me-1"></i> Orders
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'shipped_dash' %}">Shipped</a></li>
            <li><a class="dropdown-item" href="{% url 'not_shipped_dash' %}">Pending</a></li>
          </ul>
        </li>
        {% endif %}

        <!-- AI Help -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-robot me-1"></i> AI-Help
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'widget' %}">Assistance</a></li>
            <li><a class="dropdown-item" href="{% url 'home' %}">Design-Your-Style</a></li>
          </ul>
        </li>

        <!-- Categories -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-grid-fill me-1"></i> Categories
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'category_summary' %}">All Products</a></li>
            <li><a class="dropdown-item" href="{% url 'category' 'Switch NVR' %}">Tech-Devices</a></li>
            <li><a class="dropdown-item" href="{% url 'category' 'Camera Doom' %}">Wear-Clothes</a></li>
            <li><a class="dropdown-item" href="{% url 'category' 'Screen Monitor' %}">eSkills-Selling</a></li>
          </ul>
        </li>

        <!-- Logout -->
        <li class="nav-item">
          <a class="nav-link text-danger fw-semibold" href="{% url 'logout' %}">
            <i class="bi bi-box-arrow-right me-1"></i> Logout
          </a>
        </li>

        {% else %}
        <!-- Login/Register -->
        <li class="nav-item">
          <a class="nav-link" href="{% url 'login' %}"><i class="bi bi-person-fill me-1"></i> Log In</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'register' %}"><i class="bi bi-pencil-square me-1"></i> Register</a>
        </li>
        {% endif %}
      </ul>

      <!-- Cart -->
      <form class="d-flex ms-lg-4">
        <a href="{% url 'cart_summary' %}" class="btn btn-outline-light position-relative shadow-sm">
          <i class="bi bi-cart-fill me-1"></i> Cart
          <span class="badge bg-danger text-white rounded-pill position-absolute top-0 start-100 translate-middle" id="cart_quantity">
            {{ cart|length }}
          </span>
        </a>
      </form>
    </div>
  </div>
</nav>

<!-- Custom Styling -->
<style>
  .navbar {
    background-color: #000;
    border-bottom: 2px solid #e91e63;
  }
  .navbar-brand i {
    color: #e91e63;
  }
  .nav-link {
    color: white !important;
    font-family: 'Montserrat', sans-serif;
    transition: all 0.3s ease;
  }
  .nav-link:hover {
    color: #e91e63 !important;
    transform: scale(1.05);
  }
  .dropdown-menu {
    background-color: #1a1a1a;
    border: 1px solid #e91e63;
  }
  .dropdown-item {
    color: white;
  }
  .dropdown-item:hover {
    background-color: #e91e63;
    color: white;
  }
  .btn-outline-light {
    border-color: #e91e63;
    color: white;
  }
  .btn-outline-light:hover {
    background-color: #e91e63;
    border-color: #e91e63;
  }
  .text-rose {
    color: #e91e63;
  }
</style>